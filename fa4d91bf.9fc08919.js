(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{101:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return s})),t.d(n,"default",(function(){return u}));var r=t(3),o=t(7),a=(t(0),t(109)),i={title:"Installation",id:"installation"},l={unversionedId:"installation",id:"installation",isDocsHomePage:!1,title:"Installation",description:"Prerequisites",source:"@site/docs/installation.mdx",slug:"/installation",permalink:"/installation",editUrl:"https://github.com/joernio/website/edit/master/docs.joern.io/docs/installation.mdx",version:"current",sidebar:"docs",previous:{title:"Overview",permalink:"/home"},next:{title:"Quickstart",permalink:"/quickstart"}},s=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Installing Pre-Built Binaries",id:"installing-pre-built-binaries",children:[]},{value:"Building from Source Code",id:"building-from-source-code",children:[]},{value:"Configuring the JVM for handling large codebases",id:"configuring-the-jvm-for-handling-large-codebases",children:[]}],c={toc:s};function u(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"JDK 11 (get here for example: ",Object(a.b)("a",Object(r.a)({parentName:"li"},{href:"https://openjdk.java.net/install/)"}),"https://openjdk.java.net/install/)"),"; newer JDK versions ",Object(a.b)("em",{parentName:"li"},"might")," work, but have not been properly tested")),Object(a.b)("h2",{id:"installing-pre-built-binaries"},"Installing Pre-Built Binaries"),Object(a.b)("p",null,"Pre-built binaries of the joern-cli are available at:"),Object(a.b)("p",null,Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/ShiftLeftSecurity/joern/releases/"}),"https://github.com/ShiftLeftSecurity/joern/releases/")),Object(a.b)("p",null,"To install the latest release, simply execute the following"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),'mkdir joern && cd joern # optional\ncurl -L "https://github.com/joernio/joern/releases/latest/download/joern-install.sh" -o joern-install.sh\nchmod u+x joern-install.sh\n./joern-install.sh --interactive\n')),Object(a.b)("p",null,"and follow the installer instructions.\nBy default, joern will be installed at ",Object(a.b)("inlineCode",{parentName:"p"},"~/bin/joern"),"."),Object(a.b)("p",null,"You can test your installation as follows:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"cd <path_to_joern>/joern/joern-cli\n./joern\nCompiling (synthetic)/ammonite/predef/interpBridge.sc\nCompiling (synthetic)/ammonite/predef/replBridge.sc\nCompiling (synthetic)/ammonite/predef/DefaultPredef.sc\nCompiling /home/tmp/shiftleft/joern/(console)\n\n     \u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2557   \u2588\u2588\u2557\n     \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2551\n     \u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2554\u2588\u2588\u2557 \u2588\u2588\u2551\n\u2588\u2588   \u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u255d  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551\u255a\u2588\u2588\u2557\u2588\u2588\u2551\n\u255a\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551\u2588\u2588\u2551 \u255a\u2588\u2588\u2588\u2588\u2551\n \u255a\u2550\u2550\u2550\u2550\u255d  \u255a\u2550\u2550\u2550\u2550\u2550\u255d \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u255d\u255a\u2550\u255d  \u255a\u2550\u2550\u2550\u255d\n\njoern>\n")),Object(a.b)("h2",{id:"building-from-source-code"},"Building from Source Code"),Object(a.b)("p",null,"To build joern-cli from source code, you need to\ninstall the Scala build tool (sbt), which you can install by following\nthe instructions at ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://www.scala-sbt.org/download.html"}),"https://www.scala-sbt.org/download.html"),". Any 1.x\nversion of sbt works as sbt downloads the correct version for building\njoern as part of the build process."),Object(a.b)("p",null,"If you are building Joern using macOS you will need to install the\ngreadlink package:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"brew install coreutils\n")),Object(a.b)("p",null,"Once the dependencies are installed, run"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),"git clone https://github.com/joernio/joern.git\ncd joern\nsbt stage\n")),Object(a.b)("p",null,"This builds joern-cli in the current directory. To\nbuild the  distribution zip file (",Object(a.b)("inlineCode",{parentName:"p"},"joern-cli.zip"),"), run ",Object(a.b)("inlineCode",{parentName:"p"},"sbt createDistribution"),"."),Object(a.b)("h2",{id:"configuring-the-jvm-for-handling-large-codebases"},"Configuring the JVM for handling large codebases"),Object(a.b)("p",null,"Code analysis can require lots of memory, and unfortunately, the JVM does not pick up the available amount of memory by itself. While tuning Java memory usage is a discipline in its own right, it is usually sufficient to specify the maximum available amount of heap memory using the JVM's -Xmx flag. There's a few different options to do that - the most convenient one is probably as follows:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),'./joern -J-Xmx${N}G"\n')),Object(a.b)("p",null,"where $N is the amount of memory in gigabytes (G). For example, to allow the JVM to use 30 gigabytes of RAM, you would issue the following:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-bash"}),'./joern -J-Xmx30G"\n')),Object(a.b)("p",null,"Note that when you run ",Object(a.b)("inlineCode",{parentName:"p"},"importCode")," to create a new CPG, Joern spawns a separate jvm with the same max memory value, i.e. the new process will consume additional memory. If you are importing a large codebase (and/or running into memory issues), you should exit joern and invoke the CPG frontend yourself. When running ",Object(a.b)("inlineCode",{parentName:"p"},"importCode")," you'll get some guidance on how to do that."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-java"}),'joern> importCode("/path/to/linux-kernel/linux-4.1.16")\nUsing generator for language: NEWC: CCpgGenerator\nCreating project `linux-4.1.16` for code at `/path/to/linux-kernel/linux-4.1.16`\n=======================================================================================================\nInvoking CPG generator in a separate process. Note that the new process will consume additional memory.\nIf you are importing a large codebase (and/or running into memory issues), please try the following:\n1) exit joern\n2) invoke the frontend: /path/to/joern/joern-cli/c2cpg.sh -J-Xmx30688m /path/to/linux-kernel/linux-4.1.16 --output /path/to/joern/workspace/linux-4.1.16/cpg.bin.zip\n3) start joern, import the cpg: `importCpg("path/to/cpg")`\n=======================================================================================================\n// ... output omitted\n')),Object(a.b)("p",null,"For example, you can create a CPG of (an old version of) the linux kernel as follows. Notes that Joern needs more memory than c2cpg (the C frontend which creates the CPG), because it augments the CPG with additional information and prepares it to be queried. Here we give it 100G to be safe and fast, 80G are sufficient though. Tested with Joern 1.1.1362. "),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-java"}),'./c2cpg.sh -J-Xmx30G -o linux-full.odb /home/mp/tmp/cpgtesting/linux-kernel/linux-4.1.16\n./joern -J-Xmx100G\njoern> importCpg("linux-full.odb")\n...\nres1: Option[Cpg] = Some(value = Cpg (Graph [47542978 nodes]))\n')))}u.isMDXComponent=!0},109:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return m}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=o.a.createContext({}),u=function(e){var n=o.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=u(e.components);return o.a.createElement(c.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},d=o.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(t),d=r,m=p["".concat(i,".").concat(d)]||p[d]||b[d]||a;return t?o.a.createElement(m,l(l({ref:n},c),{},{components:t})):o.a.createElement(m,l({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<a;c++)i[c]=t[c];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,t)}d.displayName="MDXCreateElement"}}]);